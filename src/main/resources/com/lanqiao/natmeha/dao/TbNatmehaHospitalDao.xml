<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lanqiao.natmeha.dao.TbNatmehaHospitalDao">
  <resultMap id="BaseResultMap" type="com.lanqiao.natmeha.model.TbNatmehaHospital">
    <id column="itemID" jdbcType="INTEGER" property="itemid" />
    <id column="itemCode" jdbcType="CHAR" property="itemcode" />
    <result column="HOSPITAL_NAME" jdbcType="VARCHAR" property="hospitalName" />
    <result column="HOSPITAL_LEVEL" jdbcType="VARCHAR" property="hospitalLevel" />
    <result column="HOSPITAL_BOOKING" jdbcType="INTEGER" property="hospitalBooking" />
    <result column="HOSPITAL_SOURCE" jdbcType="DOUBLE" property="hospitalSource" />
    <result column="HOSPITAL_DISTANCE" jdbcType="INTEGER" property="hospitalDistance" />
    <result column="HOSPITAL_PHONE" jdbcType="VARCHAR" property="hospitalPhone" />
    <result column="HOSPITAL_PRO" jdbcType="VARCHAR" property="hospitalPro" />
    <result column="HOSPITAL_CITY" jdbcType="VARCHAR" property="hospitalCity" />
    <result column="HOSPITAL_COUNTRY" jdbcType="VARCHAR" property="hospitalCountry" />
    <result column="HOSPITAL_ADRESS" jdbcType="VARCHAR" property="hospitalAdress" />
    <result column="INTRODUCE" typeHandler="org.apache.ibatis.type.BlobTypeHandler" property="introduce"/>
    <result column="STATUS" jdbcType="VARCHAR" property="status" />
    <result column="CREATER" jdbcType="VARCHAR" property="creater" />
    <result column="itemCreateAt" jdbcType="TIMESTAMP" property="itemcreateat" />
    <result column="UPDATER" jdbcType="VARCHAR" property="updater" />
    <result column="itemUpdateAt" jdbcType="TIMESTAMP" property="itemupdateat" />
  </resultMap>

  <sql id="Base_Column_List">
    itemID, itemCode, HOSPITAL_NAME, HOSPITAL_LEVEL, HOSPITAL_BOOKING, HOSPITAL_SOURCE, 
    HOSPITAL_DISTANCE, HOSPITAL_PHONE, HOSPITAL_PRO, HOSPITAL_CITY, HOSPITAL_COUNTRY, 
    HOSPITAL_ADRESS, `STATUS`, CREATER, itemCreateAt, UPDATER, itemUpdateAt,INTRODUCE
  </sql>

  <insert id="insertHospital" keyColumn="itemID" keyProperty="itemid" parameterType="com.lanqiao.natmeha.model.TbNatmehaHospital" useGeneratedKeys="true">
    insert into tb_natmeha_hospital
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="itemcode != null">
        itemCode,
      </if>
      <if test="hospitalName != null">
        HOSPITAL_NAME,
      </if>
      <if test="hospitalLevel != null">
        HOSPITAL_LEVEL,
      </if>
      <if test="hospitalBooking != null">
        HOSPITAL_BOOKING,
      </if>
      <if test="hospitalSource != null">
        HOSPITAL_SOURCE,
      </if>
      <if test="hospitalDistance != null">
        HOSPITAL_DISTANCE,
      </if>
      <if test="hospitalPhone != null">
        HOSPITAL_PHONE,
      </if>
      <if test="hospitalPro != null">
        HOSPITAL_PRO,
      </if>
      <if test="hospitalCity != null">
        HOSPITAL_CITY,
      </if>
      <if test="hospitalCountry != null">
        HOSPITAL_COUNTRY,
      </if>
      <if test="hospitalAdress != null">
        HOSPITAL_ADRESS,
      </if>
      <if test="status != null">
        `STATUS`,
      </if>
      <if test="creater != null">
        CREATER,
      </if>
      <if test="itemcreateat != null">
        itemCreateAt,
      </if>
      <if test="updater != null">
        UPDATER,
      </if>
      <if test="itemupdateat != null">
        itemUpdateAt,
      </if>
      <if test="introduce != null">
        INTRODUCE,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="itemcode != null">
        #{itemcode,jdbcType=CHAR},
      </if>
      <if test="hospitalName != null">
        #{hospitalName,jdbcType=VARCHAR},
      </if>
      <if test="hospitalLevel != null">
        #{hospitalLevel,jdbcType=VARCHAR},
      </if>
      <if test="hospitalBooking != null">
        #{hospitalBooking,jdbcType=INTEGER},
      </if>
      <if test="hospitalSource != null">
        #{hospitalSource,jdbcType=DOUBLE},
      </if>
      <if test="hospitalDistance != null">
        #{hospitalDistance,jdbcType=INTEGER},
      </if>
      <if test="hospitalPhone != null">
        #{hospitalPhone,jdbcType=VARCHAR},
      </if>
      <if test="hospitalPro != null">
        #{hospitalPro,jdbcType=VARCHAR},
      </if>
      <if test="hospitalCity != null">
        #{hospitalCity,jdbcType=VARCHAR},
      </if>
      <if test="hospitalCountry != null">
        #{hospitalCountry,jdbcType=VARCHAR},
      </if>
      <if test="hospitalAdress != null">
        #{hospitalAdress,jdbcType=VARCHAR},
      </if>
      <if test="status != null">
        #{status,jdbcType=VARCHAR},
      </if>
      <if test="creater != null">
        #{creater,jdbcType=VARCHAR},
      </if>
      <if test="itemcreateat != null">
        #{itemcreateat,jdbcType=TIMESTAMP},
      </if>
      <if test="updater != null">
        #{updater,jdbcType=VARCHAR},
      </if>
      <if test="itemupdateat != null">
        #{itemupdateat,jdbcType=TIMESTAMP},
      </if>
      <if test="introduce != null">
        #{introduce,jdbcType=BLOB},
      </if>
    </trim>
  </insert>

  <select id="selectByKey" parameterType="com.lanqiao.natmeha.model.TbNatmehaHospital" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from tb_natmeha_hospital
    where  itemCode = #{itemcode,jdbcType=CHAR}
  </select>

  <select id="selectForAll" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List"/>
    from tb_natmeha_hospital
    <where>
      <if test="hospital.hospitalName != null and hospital.hospitalName..trim().length()>0">
        <bind name="hospitalParttern" value="'%' + hospital.hospitalName + '%'"/>
        and HOSPITAL_NAME like #{hospitalParttern}
      </if>
    </where>
  </select>
</mapper>